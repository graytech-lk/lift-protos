syntax = "proto3";

package lift.corporate.account.v1;

option go_package = "github.com/graytech-lk/lift-protos/gen/go/corporate/account/v1;corporateaccountv1";

import "google/protobuf/timestamp.proto";

message GetCorporateAccountByIdRequest {
  string id = 1;
}

message CorporateAccountDetails {
  string physical_address = 1;
  string company_phone_number = 2;
  string company_email = 3;
  string company_website = 4;
  string service_request_letter_url = 5;
  string business_registration_url = 6;
  string tax_reg_number = 7;
  string form20_url = 8;
  string form48_url = 9;
  string form40_url = 10;
}

message CorporateBankDetails {
  string bank_name = 1;
  string bank_account_number = 2;
}

message CorporateTheme {
  string primary_color = 1;
  string secondary_color = 2;
  string background_color = 3;
  string header_color = 4;
  string text_color = 5;
}

message CorporateAccount {
  string id = 1;
  google.protobuf.Timestamp created_time = 2;
  google.protobuf.Timestamp updated_time = 3;
  string name = 4;
  CorporateAccountDetails details = 5;
  CorporateBankDetails bank_details = 6;
  bool tax_enabled = 7;
  string status = 8;
  double current_credit_amount = 9;
  double credit_limit = 10;
  double temporary_credit_releif = 11;
  string invoice_period = 12;
  double credit_limit_warning_level = 13;
  double credit_limit_critical_level = 14;
  string notification_types = 15;
  string logo_url = 16;
  CorporateTheme color_theme = 17;
}

message GetCorporateAccountByIdResponse {
  CorporateAccount account = 1;
}

message ApplyCorporateChargeRequest {
  // Corporate account id.
  string id = 1;
  // Amount to add to current_credit_amount (must be > 0).
  double amount = 2;
  // Optional reference id (e.g. service_request_id) for audit trails.
  string reference_id = 3;
  // Optional description.
  string description = 4;
}

message ApplyCorporateChargeResponse {
  CorporateAccount account = 1;
}

service CorporateAccountService {
  rpc GetCorporateAccountById(GetCorporateAccountByIdRequest) returns (GetCorporateAccountByIdResponse);
  rpc ApplyCorporateCharge(ApplyCorporateChargeRequest) returns (ApplyCorporateChargeResponse);
}


